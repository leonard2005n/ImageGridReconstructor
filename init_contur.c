//315CA-Neacsa Leonard
#include <string.h>
#include <stdlib.h>
#include "image.h"
#include "alloc_free.h"
#include "write_read.h"

//Function that initialize the patterns
image *init_contur(int n)
{
	//INITIATE the matrix for making 16 images
	image *pic = (image *)malloc(16 * sizeof(image));
	int val[16][16] = {
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		{0, 0, 0, 0, 0, 0, 0, 0, 255, 0, 0, 0, 180, 255, 0, 0},
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 0, 0, 255, 180},
		{0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 180, 180, 180, 180},
		{0, 0, 255, 180, 0, 0, 0, 255, 0, 0, 0, 0, 0, 0, 0, 0},
		{0, 0, 255, 180, 0, 0, 0, 255, 255, 0, 0, 0, 180, 255, 0, 0},
		{0, 0, 255, 180, 0, 0, 255, 180, 0, 0, 255, 180, 0, 0, 255, 180},
		{0, 255, 180, 180, 255, 180, 180, 180, 180, 180,
		 180, 180, 180, 180, 180, 180},
		{180, 255, 0, 0, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		{180, 255, 0, 0, 180, 255, 0, 0, 180, 255, 0, 0, 180, 255, 0, 0},
		{180, 255, 0, 0, 255, 0, 0, 0, 0, 0, 0, 255, 0, 0, 255, 180},
		{180, 180, 255, 0, 180, 180, 180, 255, 180, 180,
		 180, 180, 180, 180, 180, 180},
		{180, 180, 180, 180, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0,},
		{180, 180, 180, 180, 180, 180, 180, 180, 180, 180,
		 180, 255, 180, 180, 255, 0},
		{180, 180, 180, 180, 180, 180, 180, 180, 255, 180, 180,
		 180, 0, 255, 180, 180},
		{255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
		 255, 255, 255, 255, 255}
	};

	//Creating 16 images based on the pallet
	for (int k = 0; k < 16; k++) {
		strcpy(pic[k].name, "P3");
		pic[k].max_value = 255;
		pic[k].n = 4;
		pic[k].m = 4;
		alloc_pixels(&pic[k]);
		for (int i = 0; i < 4; i++) {
			for (int j = 0; j < 4; j++) {
				pic[k].pixel[i][j].R = val[k][i * 4 + j];
				pic[k].pixel[i][j].G = val[k][i * 4 + j];
				pic[k].pixel[i][j].B = val[k][i * 4 + j];
			}
		}
		if (n == 1)
			write_image(&pic[k]);
	}
	return(pic);
}
